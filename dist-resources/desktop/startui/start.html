<!DOCTYPE html>
<html lang="en">
  <head>
	<title>DAISY Pipeline 2</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Web interface for Pipeline 2">
	<meta name="author" content="DAISY Consortium">
	
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />
	
	<!-- Styles -->
	<link href="bootstrap.min.css" rel="stylesheet">
	<link href="bootstrap-responsive.min.css" rel="stylesheet">
	<style type="text/css">
		body {    padding-top: 90px; }
		@media (max-width: 980px) {
		    body {
		        padding-top: 0;
		    }
		}
		hgroup {
			text-align: center;
			padding-bottom: 2em;
		}
		h1 {
			text-align: center;
		}
	</style>
	
	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Load jQuery before the content (so other templates may use jQuery) -->
	<script type="text/javascript" src="jquery-1.9.1.min.js"></script>
  </head>
	
  <body class="body">
  	
	<div class="navbar navbar-inverse navbar-fixed-top">
	   	<div class="navbar-inner">
	   		<div class="container">
	   			<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
	                <span class="icon-bar"></span>
	                <span class="icon-bar"></span>
	                <span class="icon-bar"></span>
	            </a>
            	<span class="brand">DAISY Pipeline 2</span>
			</div>
		</div>
	</div>
	
	<div class="container">
   	
		<div class="page-header">
		  <hgroup>
			  <h1 id="h1" aria-live="polite">
			  	<span class="STARTING state">Starting the Pipeline 2 Web UI...</span>
			  	<span class="RUNNING state" style="display:none;">Successfully started the Pipeline 2 engine!</span>
			  </h1>
		  </hgroup>
		</div>

		<div class="STARTING message" style="text-align:center;">
			<img src="loading.gif" alt="" style="margin:10px;"/><br/>
			<div id="WAITING">
				<p>This is taking a long time, an error may have occured while starting the Web UI. Most commonly this is caused by Java not being configured properly.
				   See the <a href="http://code.google.com/p/daisy-pipeline/wiki/Installation#Java">Pipeline 2 Installation Instructions</a>
				   to learn how to install and configure Java.</p>
			</div>
		</div>

		<div class="RUNNING message" style="text-align:center;display:none;">
			<a href="http://localhost:9000/firstuse"><small class="muted">Click here if you are not redirected automatically...</small></a>
		</div>

		<script type="text/javascript">
			alive = function(message) {
				setTimeout(function() {
					$(".state, .message").hide();
					$(".RUNNING").show();
				},1000);
				window.location = "http://localhost:9000/firstuse";
			}

			lastMessage = null;
			$(function(){
				started = new Date();
				setInterval(
					function() {
						$.getJSON("http://localhost:9000/alive?callback=?");
					},
					1000
				);
				setTimeout(
					function() {
						$("#WAITING").show();
					},
					10000
				);
			});
		</script>
	
	</div>

	<script src="bootstrap.min.js"></script>
  </body>
</html>
