@(setUploadDirForm: Form[controllers.FirstUse.SetUploadDirForm])

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>First use</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Web interface for Pipeline 2">
    <meta name="author" content="DAISY Consortium">

    <!-- Styles -->
    <link href="@routes.Assets.at("stylesheets/bootstrap.css")" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="@routes.Assets.at("stylesheets/bootstrap-responsive.css")" rel="stylesheet">
    <link rel="stylesheet/less" media="screen" type="text/css" href="@routes.Assets.at("stylesheets/main.less")">
	
	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Parse LESS stylesheets in all browsers -->
    <script src="@routes.Assets.at("javascripts/less-1.2.1.min.js")" type="text/javascript"></script>

    <!-- Icons -->
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
    <!--<link rel="apple-touch-icon" href="routes.Assets.at("images/apple-touch-icon.png")">
    <link rel="apple-touch-icon" sizes="72x72" href="routes.Assets.at("images/apple-touch-icon-72x72.png")">
    <link rel="apple-touch-icon" sizes="114x114" href="routes.Assets.at("images/apple-touch-icon-114x114.png")">-->
    
  </head>

  <body class="body">
  	
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="@routes.Login.login()">Pipeline 2</a>
        </div>
      </div>
    </div>
	
	<!-- Load jQuery before the content (so other templates may use jQuery) -->
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script type="text/javascript">
	if (typeof jQuery == 'undefined') {
		document.write(unescape("%3Cscript src='@routes.Assets.at("javascripts/jquery-1.7.1.min.js")' type='text/javascript'%3E%3C/script%3E"));
	}
	</script>
	
    <div class="container">
      	
      	<div class="page-header">
           	<h1>Set the temporary directory for uploads</h1>
        </div>
      	
     	<p>When users upload files to this web interface, they will have to be stored to disk somewhere. Depending on the number of users and the type of usage (especially if you're working a lot with audio), this folder might grow very large, so point it to someplace where there is at least a few gigabytes of storage.</p>
     	<p>This setting can be changed in the administrator settings at a later time. You can skip setting up this now, but you will not be able to upload files or start jobs before an upload directory is configured.</p>
     	<p>Suggested upload directory: <code>@{System.getProperty("user.dir") + System.getProperty("file.separator") + "uploads" + System.getProperty("file.separator")}</code></p>
      	<hr/>
      	
        @helper.form(action = routes.FirstUse.postSetUploadDir()) {
        	
            @if(setUploadDirForm.hasGlobalErrors) {
                <div class="alert alert-error">
                    @setUploadDirForm.globalError.message
                </div>
            }
            
            @if(flash.contains("success")) {
                <div class="alert alert-success">
                    @flash.get("success")
                </div>
            }
            
            <fieldset>
	            
	            <div class="form-horizontal">
	            	<div class="row control-group @("error".when(setUploadDirForm.error("uploaddir") != null))">
						<div class="controls offset3 span2">
							<label for="uploaddir" class="control-label">Upload directory</label>
						</div>
						<div class="controls span4">
							<input type="text" name="uploaddir" id="uploaddir" placeholder="URL" class="input-xlarge span4" value="@setUploadDirForm.field("uploaddir").valueOr(System.getProperty("user.dir") + System.getProperty("file.separator") + "uploads" + System.getProperty("file.separator"))"/>
						</div>
						@if(setUploadDirForm.field("uploaddir").errors().size() > 0){
							<div class="span3">
								<span class="help-inline">A valid filesystem path must be provided.</span>
							</div>
						}
					</div>
					
				</div>
				
				<div class="row">
					<div class="controls offset3 span3">
						<input class="btn btn-primary" id="submit" type="submit" name="submit" value="Submit" style="width:100%"/>
					</div>
					<div class="controls span3">
						<input class="btn" id="skip" type="button" name="skip" value="Skip" style="width:100%;" formmethod="get" formaction="@routes.FirstUse.getWelcome()" onclick="window.location='@routes.FirstUse.getWelcome()'"/>
					</div>
				</div>
				
			</fieldset>
        }

    </div>

    <!-- Scripts -->
    <script src="@routes.Assets.at("javascripts/bootstrap-transition.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-alert.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-modal.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-dropdown.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-scrollspy.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-tab.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-tooltip.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-popover.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-button.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-collapse.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-carousel.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-typeahead.js")" type="text/javascript"></script>
  </body>
</html>