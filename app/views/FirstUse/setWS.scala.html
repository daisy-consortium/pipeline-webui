@(setWSForm: Form[controllers.FirstUse.SetWSForm])

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>First use</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Web interface for Pipeline 2">
    <meta name="author" content="DAISY Consortium">

    <!-- Styles -->
    <link href="@routes.Assets.at("stylesheets/bootstrap.css")" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="@routes.Assets.at("stylesheets/bootstrap-responsive.css")" rel="stylesheet">
    <link rel="stylesheet/less" media="screen" type="text/css" href="@routes.Assets.at("stylesheets/main.less")">
	
	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Parse LESS stylesheets in all browsers -->
    <script src="@routes.Assets.at("javascripts/less-1.2.1.min.js")" type="text/javascript"></script>

    <!-- Icons -->
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
    <!--<link rel="apple-touch-icon" href="routes.Assets.at("images/apple-touch-icon.png")">
    <link rel="apple-touch-icon" sizes="72x72" href="routes.Assets.at("images/apple-touch-icon-72x72.png")">
    <link rel="apple-touch-icon" sizes="114x114" href="routes.Assets.at("images/apple-touch-icon-114x114.png")">-->
    
  </head>

  <body class="body">
  	
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="@routes.Login.login()">Pipeline 2</a>
        </div>
      </div>
    </div>
	
	<!-- Load jQuery before the content (so other templates may use jQuery) -->
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script type="text/javascript">
	if (typeof jQuery == 'undefined') {
		document.write(unescape("%3Cscript src='@routes.Assets.at("javascripts/jquery-1.7.1.min.js")' type='text/javascript'%3E%3C/script%3E"));
	}
	</script>
	
    <div class="container">
      	
      	<div class="page-header">
           	<h1>Set the Pipeline 2 Web Service endpoint</h1>
        </div>
      	
     	<p>Please enter the address of the Pipeline 2 Web Service below, along with the authentication ID and secret text to use it.</p>
     	<p>You may skip this step now and change the address in the administrator settings at any time later; however you will not be able to use any of the Pipeline 2 scripts until the endpoint is configured. If you have not yet installed the Pipeline 2 framework, please download and install the latest version from the DAISY Pipeline 2 homepage: <a href="http://www.daisy.org/pipeline2" target="_blank">http://www.daisy.org/pipeline2</a>. If you know the address of the Pipeline 2 Web Service you want to connect to but don't have an authentication ID yet, then please read <a href="#" target="_blank">TODO</a> for more information.</p>
     	<p>If you are running the Pipeline 2 framework with the default settings on the same server as this Web UI, then the address is most likely <code>http://localhost:8182/ws</code>.</p>
      	<hr/>
      	
        @helper.form(action = routes.FirstUse.postSetWS()) {
        	
            @if(setWSForm.hasGlobalErrors) {
                <div class="alert alert-error">
                    @setWSForm.globalError.message
                </div>
            }
            
            @if(flash.contains("success")) {
                <div class="alert alert-success">
                    @flash.get("success")
                </div>
            }
            
            <fieldset>
	            
	            <div class="form-horizontal">
	            	<div class="row control-group @("error".when(setWSForm.error("endpoint") != null))">
						<div class="controls offset3 span2">
							<label for="endpoint" class="control-label">Address</label>
						</div>
						<div class="controls span4">
							<input type="text" name="endpoint" id="endpoint" placeholder="URL" class="input-xlarge span4" value="@setWSForm.field("endpoint").valueOr("")"/>
						</div>
						@if(setWSForm.field("endpoint").errors().size() > 0){
							<div class="span3">
								<span class="help-inline">A valid URL must be provided.</span>
							</div>
						}
					</div>
					
					<div class="row control-group @("error".when(setWSForm.error("authid") != null))">
						<div class="controls offset3 span2">
							<label for="authid" class="control-label">Authentication ID</label>
						</div>
						<div class="controls span4">
							<input type="text" autocomplete="off" name="authid" id="authid" placeholder="Authentication ID" class="input-xlarge span4" value="@setWSForm.field("authid").valueOr("")"/>
						</div>
						@if(setWSForm.field("authid").errors().size() > 0){
							<div class="span3">
								<span class="help-inline">A valid authentication id must be provided.</span>
							</div>
						}
					</div>
					
					<div class="row control-group @("error".when(setWSForm.error("secret") != null))">
						<div class="controls offset3 span2">
							<label for="secret" class="control-label">Secret text</label>
						</div>
						<div class="controls span4">
							<input type="password" autocomplete="off" name="secret" id="secret" placeholder="Secret text" class="input-xlarge span4" value="@setWSForm.field("secret").valueOr("")"/>
						</div>
						@if(setWSForm.field("secret").errors().size() > 0){
							<div class="span3">
								<span class="help-inline">A valid secret text must be provided.</span>
							</div>
						}
					</div>
				</div>
				
				<div class="row">
					<div class="controls offset3 span3">
						<input class="btn btn-primary" id="submit" type="submit" name="submit" value="Submit" style="width:100%"/>
					</div>
					<div class="controls span3">
						<input class="btn" id="skip" type="button" name="skip" value="Skip" style="width:100%;" formmethod="get" formaction="@routes.FirstUse.getWelcome()" onclick="window.location='@routes.FirstUse.getWelcome()'"/>
					</div>
				</div>
				
			</fieldset>
        }

    </div>

    <!-- Scripts -->
    <script src="@routes.Assets.at("javascripts/bootstrap-transition.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-alert.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-modal.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-dropdown.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-scrollspy.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-tab.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-tooltip.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-popover.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-button.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-collapse.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-carousel.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap-typeahead.js")" type="text/javascript"></script>
  </body>
</html>